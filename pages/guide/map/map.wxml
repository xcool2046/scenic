<!--pages/guide/map/map.wxml-->
<view class="map-container">
  <!-- 返回按钮 -->
  <view class="back-button" bindtap="navigateBack">
    <text class="back-icon">‹</text>
  </view>

  <!-- 地图组件 -->
  <map 
    id="guideMap"
    class="map"
    latitude="{{latitude}}"
    longitude="{{longitude}}"
    scale="{{scale}}"
    markers="{{markers}}"
    show-location="{{showLocation}}"
    show-compass="{{showCompass}}"
    enable-zoom="{{enableZoom}}"
    enable-scroll="{{enableScroll}}"
    enable-rotate="{{enableRotate}}"
    bindmarkertap="onMarkerTap"
    bindtap="hideInfoPanel"
  >
  </map>

  <!-- 底部景点信息面板 -->
  <view class="info-panel {{showInfoPanel ? 'show' : ''}}" wx:if="{{selectedSpot}}">
    <view class="info-header">
      <text class="info-title">{{selectedSpot.name}}</text>
      <view class="close-btn" bindtap="hideInfoPanel">×</view>
    </view>
    
    <view class="info-content">
      <text class="info-desc">{{selectedSpot.desc}}</text>
      
      <view class="info-actions">
        <view class="action-btn primary" bindtap="navigateToSpotDetail">查看详情</view>
      </view>
    </view>
  </view>
</view>