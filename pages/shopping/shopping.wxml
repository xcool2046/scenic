<!--ç ä¸Šæ¶ˆè´¹ - Appleé£æ ¼æç®€ç‰ˆ-->
<view class="shopping-container">
  
  <!-- é¡¶éƒ¨æœç´¢æ  -->
  <view class="header-section">
    <view class="search-wrapper">
      <view class="search-bar">
        <view class="search-icon">ğŸ”</view>
        <input class="search-input" 
               placeholder="æœç´¢å•†å“" 
               value="{{searchKeyword}}"
               bindinput="onSearchInput"
               confirm-type="search"
               bindconfirm="onSearch">
        </input>
      </view>
      <view class="cart-button" bindtap="goToCart">
        <view class="cart-icon">ğŸ›’</view>
        <view class="cart-badge" wx:if="{{cartCount > 0}}">{{cartCount}}</view>
      </view>
    </view>
  </view>

  <!-- ç²¾é€‰æ¨ªå¹… -->
  <view class="hero-banner">
    <view class="hero-content">
      <view class="hero-title">ç²¾é€‰å¥½ç‰©</view>
      <view class="hero-subtitle">FEATURED PRODUCTS</view>
      <view class="hero-description">å‘ç°æ™¯åŒºç‹¬æœ‰çš„ç¾å¥½å•†å“</view>
    </view>
  </view>

  <!-- å•†å“åˆ†ç±» - ç®€åŒ–ç‰ˆ -->
  <view class="categories-section">
    <scroll-view class="categories-scroll" scroll-x="true" show-scrollbar="false">
      <view class="category-list">
        <view class="category-chip {{selectedCategory === item.id ? 'active' : ''}}" 
              wx:for="{{categories}}" 
              wx:key="id"
              data-id="{{item.id}}"
              bindtap="onCategoryTap">
          <text class="category-text">{{item.name}}</text>
        </view>
      </view>
    </scroll-view>
  </view>

  <!-- ç²¾é€‰å•†å“ - Appleå¼å•åˆ—å¸ƒå±€ -->
  <view class="products-section">
    <view class="products-container">
      <view class="product-card-large" 
            wx:for="{{featuredProducts}}" 
            wx:key="id"
            data-product="{{item}}"
            bindtap="viewProductDetail"
            style="animation-delay: {{index * 100}}ms">
        
        <!-- å•†å“ä¸»å›¾ -->
        <view class="product-image-container">
          <image class="product-image" 
                 src="{{item.image}}" 
                 mode="aspectFill"
                 lazy-load="true">
          </image>
          <view class="product-badge" wx:if="{{item.badge}}">{{item.badge}}</view>
        </view>
        
        <!-- å•†å“ä¿¡æ¯ -->
        <view class="product-info-container">
          <view class="product-header">
            <view class="product-name">{{item.name}}</view>
            <view class="product-description">{{item.description}}</view>
          </view>
          
          <view class="product-footer">
            <view class="price-container">
              <view class="price-current">
                <text class="price-symbol">Â¥</text>
                <text class="price-value">{{item.price}}</text>
              </view>
              <view class="price-original" wx:if="{{item.originalPrice}}">
                <text class="original-price">Â¥{{item.originalPrice}}</text>
              </view>
            </view>
            
            <view class="action-button" 
                  data-product="{{item}}" 
                  catchtap="addToCart">
              <text class="action-text">æ·»åŠ </text>
              <view class="action-icon">+</view>
            </view>
          </view>
        </view>
      </view>
    </view>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty-state" wx:if="{{featuredProducts.length === 0 && !loading}}">
    <view class="empty-content">
      <view class="empty-icon">ğŸ›ï¸</view>
      <view class="empty-title">æš‚æ— å•†å“</view>
      <view class="empty-subtitle">NO PRODUCTS AVAILABLE</view>
    </view>
  </view>

  <!-- åº•éƒ¨å®‰å…¨åŒºåŸŸ -->
  <view class="bottom-safe-area"></view>

  <!-- åŠ è½½ç»„ä»¶ -->
  <loading wx:if="{{loading}}" />
  
  <!-- æç¤ºç»„ä»¶ -->
  <toast />

</view> 